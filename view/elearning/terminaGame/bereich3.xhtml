<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j">
	
	
	<script type="text/javascript" src="terminaGame/processing.js"></script>
	<script type="text/javascript">
		function newEntry(id, association, score ){
			var pjs = Processing.getInstanceById(id);
			var size = 20 + 10 * score;
			
			pjs.newVertex(association, 100, size);
		}
	</script>

	<canvas id="TerminaGraph" data-processing-sources="terminaGame/TerminaGraph.pde terminaGame/Vertex.pde"> </canvas>
	
	<a4j:form id="bereich3">
		<h:messages class="standout2"/>
		<s:validateAll>
		
 <script type="text/javascript"> 
    if ('#{elearnTermina.lastAssociation}' != '')
 	newEntry('TerminaGraph', '#{elearnTermina.lastAssociation.tag}', '#{elearnTermina.lastAssociation.score}');
 </script> 
		
			<table>
				<tr>
					<td class="terminaTableCell"><h:outputText class="gamequestion" value="#{messages['termina.frage.satz']}" /></td>
					<td class="terminaTableCell"><h:inputText id="inputassoc" value="#{elearnTermina.association}" autocomplete="off" required="false" /></td>
					<td class="terminaTableCell"><a4j:commandButton id="sendButton" action="#{elearnTermina.choose()}" styleClass="sendAssociation" 
						title="Sende Assoziation" reRender="bereich1,bereich3,focusbereich">1<s:defaultAction /></a4j:commandButton></td>
				</tr>
 				<tr>
					<td  colspan="3"><h:outputText styleClass="foundAssocText" value="#{messages['termina.foundAssoc']}"/>
					<h:outputText styleClass="requestedAssoc" value="#{messages['termina.outof']} #{gameConfiguration.bid}"/></td>
				</tr> 
			</table>

 <!-- 			<div id="related"> 
				<div class="ongoingGameStatsCaption">
					<h:outputText value="#{messages['tagging.enteredTags']}" />
				</div>
					
	 			<a4j:outputPanel id="recommendedTags" styleClass="ongoingGameStatsContent">
						<a4j:repeat value="#{elearnTermina.getPreviousTaggings()}" var="assoc"> 
						<h:outputText value="#{assoc.name}" />
 					</a4j:repeat> 
				</a4j:outputPanel>								
			</div><br /> -->	 

		</s:validateAll>
	</a4j:form>

</ui:composition>
