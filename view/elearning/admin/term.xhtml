<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:a4j="http://richfaces.org/a4j"
    template="/layout/adminTemplate.xhtml">

    <ui:define name="body">
		<div id="content">
      <f:view>
     
         <h:form>

            <s:validateAll>

               <h:panelGrid columns="2">
                  <h:outputText value="#{messages['admin.term.name']}:"/> <h:inputText value="#{termHome.instance.tag.name}" required="true"/>
                  <h:outputText value="#{messages['admin.term.rating']}:"/> <h:inputText value="#{termHome.instance.rating}" required="true"/>
                  <h:outputText value="#{messages['admin.term.confirmedTags']}:"/>
                  <rich:dataTable id="confirmedTagsTable" value="#{termHome.instance.confirmedTags}" var="_tag">
                  	<h:column>
			            <h:inputText value="#{_tag.name}" rendered="#{!termHome.managed}"/>
			            <h:outputText value="#{_tag.name}" rendered="#{termHome.managed}"/>
			        </h:column>
						<h:column>
							<h:commandLink action="#{termHome.deleteConfirmedTerm(_tag.id)}" value="#{messages['delete']}">
							<!-- <f:param name="confirmedTagId" value="#{_tag.id}"/> -->
							</h:commandLink>
						</h:column>
                  </rich:dataTable>
                  <h:outputText value="#{messages['admin.term.addConfirmedTag']}"/>
                  <h:panelGroup>
                  	<h:inputText value="#{termHome.newConfirmedTag}"/>
	                <h:commandButton value="#{messages['add']}" action="#{termHome.addConfirmedTag}" />
                  </h:panelGroup>

               </h:panelGrid>

            </s:validateAll>

            <h:messages/>

            <h:commandButton 
						value="#{messages['admin.term.persist']}"
						action="#{termHome.persist}" 
						rendered="#{!termHome.managed}" />
					<h:commandButton 
						value="#{messages['admin.term.update']}"
						action="#{termHome.update}" 
						rendered="#{termHome.managed}" />
         </h:form>

      </f:view>
      </div>
		
        <br class="clear" />
    </ui:define>
</ui:composition>
